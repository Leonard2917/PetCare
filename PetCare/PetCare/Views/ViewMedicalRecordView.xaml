<Window x:Class="PetCare.Views.ViewMedicalRecordView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Fișă Medicală Detaliată" Height="700" Width="500" WindowStartupLocation="CenterScreen">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TextBlock Text="{Binding DataCrearii, StringFormat='Fișă Medicală - {0}'}" FontSize="20" FontWeight="Bold" Margin="0,0,0,20"/>

        <StackPanel Grid.Row="1" Margin="0,0,0,15">
            <TextBlock Text="Diagnostic" Margin="0,0,0,5" Foreground="#666"/>
            <TextBox Text="{Binding Diagnostic, Mode=OneWay}" Height="50" TextWrapping="Wrap" IsReadOnly="True" Background="#F0F0F0" Padding="5"/>
        </StackPanel>

        <StackPanel Grid.Row="2" Margin="0,0,0,15">
            <TextBlock Text="Tratament" Margin="0,0,0,5" Foreground="#666"/>
            <TextBox Text="{Binding Tratament, Mode=OneWay}" Height="70" TextWrapping="Wrap" IsReadOnly="True" Background="#F0F0F0" Padding="5"/>
        </StackPanel>

        <GroupBox Grid.Row="3" Header="Servicii Efectuate" Margin="0,0,0,15">
            <ListBox ItemsSource="{Binding Services}" Height="80" Background="#FAFAFA"/>
        </GroupBox>

        <GroupBox Grid.Row="4" Header="Materiale Consumate" Margin="0,0,0,15" VerticalAlignment="Stretch">
            <DataGrid ItemsSource="{Binding UsedMaterials}" 
                      AutoGenerateColumns="False" 
                      IsReadOnly="True" 
                      HeadersVisibility="Column"
                      GridLinesVisibility="Horizontal"
                      Background="#FAFAFA"
                      BorderThickness="1" BorderBrush="#CCC"
                      MinHeight="80">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Material" Binding="{Binding NumeMaterial}" Width="*"/>
                    <DataGridTextColumn Header="Cantitate" Binding="{Binding Cantitate}" Width="80"/>
                    <DataGridTextColumn Header="Cost (RON)" Binding="{Binding Cost, StringFormat=F2}" Width="80"/>
                </DataGrid.Columns>
            </DataGrid>
        </GroupBox>

        <StackPanel Grid.Row="5" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,0,0,15">
             <TextBlock Text="Cost Total: " FontWeight="Bold"/>
             <TextBlock Text="{Binding TotalCost, StringFormat={}{0:F2} RON}" FontWeight="Bold" Foreground="#4CAF50"/>
        </StackPanel>

        <Button Grid.Row="6" Content="Închide" IsCancel="True" HorizontalAlignment="Right" Padding="20,10"/>
    </Grid>
</Window>
