<Page x:Class="PetCare.Views.AdminDashboardView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:PetCare.Views"
        mc:Ignorable="d"
        d:DesignHeight="600" d:DesignWidth="900"
        Title="Panou Administrator - Gestionare Clinică">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,0,10,10">
             <TextBlock Text="Panou Administrator" VerticalAlignment="Center" FontWeight="Bold" Margin="0,0,20,0" Foreground="#555"/>
             <Button Content="Deconectare" Click="LogoutButton_Click" Padding="15,5" Background="#FFEBEE" Foreground="#D32F2F" BorderThickness="0"/>
        </StackPanel>

        <TabControl Grid.Row="1">
            <!-- Tab 1: Detalii Clinica -->
            <TabItem Header="Detalii Clinică" FontSize="14" Padding="10">
                <StackPanel Margin="20">
                    <TextBlock Text="Informații Generale Clinică" FontSize="18" FontWeight="Bold" Margin="0,0,0,15"/>
                    
                    <TextBlock Text="Nume Clinică:" Margin="0,5"/>
                    <TextBox Text="{Binding ClinicName}" Padding="5" Margin="0,0,0,10"/>
                    
                    <TextBlock Text="Adresă:" Margin="0,5"/>
                    <TextBox Text="{Binding ClinicAddress}" Padding="5" Margin="0,0,0,10"/>
                    
                    <TextBlock Text="Telefon:" Margin="0,5"/>
                    <TextBox Text="{Binding ClinicPhone}" Padding="5" Margin="0,0,0,20"/>
                    
                    <Button Content="Salvează Modificările" Click="SaveClinic_Click" 
                            HorizontalAlignment="Left" Padding="15,5" Background="#2196F3" Foreground="White"/>
                </StackPanel>
            </TabItem>

            <!-- Tab 2: Servicii -->
            <TabItem Header="Gestionare Servicii" FontSize="14" Padding="10">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <TextBlock Text="Lista Servicii Oferite" FontSize="18" FontWeight="Bold" Margin="0,0,0,10"/>

                    <DataGrid Grid.Row="1" ItemsSource="{Binding Services}" SelectedItem="{Binding SelectedService}" 
                              AutoGenerateColumns="False" CanUserAddRows="False" Margin="0,0,0,10">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Denumire" Binding="{Binding Denumire}" Width="*"/>
                            <DataGridTextColumn Header="Preț (RON)" Binding="{Binding PretStandard}" Width="100"/>
                            <DataGridTextColumn Header="Durată (min)" Binding="{Binding DurataEstimataMinute}" Width="100"/>
                        </DataGrid.Columns>
                    </DataGrid>

                    <StackPanel Grid.Row="2">
                        <TextBlock Text="Adaugă Serviciu Nou" FontWeight="Bold" Margin="0,10,0,5"/>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                            <StackPanel Margin="0,0,10,0" Width="250">
                                <TextBlock Text="Denumire:"/>
                                <TextBox Text="{Binding NewServiceName}" Padding="5"/>
                            </StackPanel>
                            <StackPanel Margin="0,0,10,0" Width="100">
                                <TextBlock Text="Preț:"/>
                                <TextBox Text="{Binding NewServicePrice}" Padding="5"/>
                            </StackPanel>
                            <StackPanel Margin="0,0,10,0" Width="100">
                                <TextBlock Text="Durată (min):"/>
                                <TextBox Text="{Binding NewServiceDuration}" Padding="5"/>
                            </StackPanel>
                            <Button Content="Adaugă" Click="AddService_Click" VerticalAlignment="Bottom" Padding="15,5" Background="#4CAF50" Foreground="White" Height="28"/>
                        </StackPanel>

                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                             <Button Content="Actualizează Selectat" Click="UpdateService_Click" Margin="5" Padding="10,5" Background="#FF9800" Foreground="White"/>
                             <Button Content="Șterge Selectat" Click="DeleteService_Click" Margin="5" Padding="10,5" Background="#F44336" Foreground="White"/>
                        </StackPanel>
                    </StackPanel>
                </Grid>
            </TabItem>

            <!-- Tab 3: Medici -->
            <TabItem Header="Medici Asociați" FontSize="14" Padding="10">
                 <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    
                    <TextBlock Text="Echipa Medicală" FontSize="18" FontWeight="Bold" Margin="0,0,0,10"/>
                    
                    <DataGrid Grid.Row="1" ItemsSource="{Binding Medics}" AutoGenerateColumns="False" IsReadOnly="True" CanUserAddRows="False">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Nume" Binding="{Binding Nume}" Width="150"/>
                            <DataGridTextColumn Header="Prenume" Binding="{Binding Prenume}" Width="150"/>
                            <DataGridTextColumn Header="Nr. Parafă" Binding="{Binding NrParafa}" Width="100"/>
                             <DataGridTextColumn Header="Telefon" Binding="{Binding Telefon}" Width="150"/>
                        </DataGrid.Columns>
                    </DataGrid>
                 </Grid>
            </TabItem>

            <!-- Tab 4: Stocuri -->
            <TabItem Header="Stocuri / Inventar" FontSize="14" Padding="10">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <TextBlock Text="Gestiune Stocuri" FontSize="18" FontWeight="Bold" Margin="0,0,0,10"/>

                    <DataGrid Grid.Row="1" ItemsSource="{Binding StockList}" SelectedItem="{Binding SelectedStock}" 
                              AutoGenerateColumns="False" CanUserAddRows="False" Margin="0,0,0,10">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Produs" Binding="{Binding DenumireProdus}" Width="*"/>
                            <DataGridTextColumn Header="Unitate" Binding="{Binding UnitateMasura}" Width="60"/>
                            <DataGridTextColumn Header="Cantitate" Binding="{Binding CantitateDisponibila}" Width="80"/>
                             <DataGridTextColumn Header="Preț Unitar" Binding="{Binding PretUnitar}" Width="100"/>
                        </DataGrid.Columns>
                    </DataGrid>

                    <StackPanel Grid.Row="2">
                        <TextBlock Text="Adaugă Intrare Nouă" FontWeight="Bold" Margin="0,10,0,5"/>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                            <StackPanel Margin="0,0,10,0" Width="200">
                                <TextBlock Text="Produs:"/>
                                <TextBox Text="{Binding NewProdus}" Padding="5"/>
                            </StackPanel>
                            <StackPanel Margin="0,0,10,0" Width="60">
                                <TextBlock Text="UM:"/>
                                <TextBox Text="{Binding NewUnitate}" Padding="5"/>
                            </StackPanel>
                            <StackPanel Margin="0,0,10,0" Width="80">
                                <TextBlock Text="Cantitate:"/>
                                <TextBox Text="{Binding NewCantitate}" Padding="5"/>
                            </StackPanel>
                             <StackPanel Margin="0,0,10,0" Width="80">
                                <TextBlock Text="Preț:"/>
                                <TextBox Text="{Binding NewPret}" Padding="5"/>
                            </StackPanel>
                            <Button Content="Adaugă Stoc" Click="AddStock_Click" VerticalAlignment="Bottom" Padding="15,5" Background="#4CAF50" Foreground="White" Height="28"/>
                        </StackPanel>

                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                             <Button Content="Actualizează Selectat" Click="UpdateStock_Click" Margin="5" Padding="10,5" Background="#FF9800" Foreground="White"/>
                             <Button Content="Șterge Selectat" Click="DeleteStock_Click" Margin="5" Padding="10,5" Background="#F44336" Foreground="White"/>
                        </StackPanel>
                    </StackPanel>
                </Grid>
            </TabItem>

            <!-- Tab 5: Statistici -->
            <TabItem Header="Statistici" FontSize="14" Padding="10">
                <local:StatisticsView DataContext="{Binding Statistics}"/>
            </TabItem>
        </TabControl>
    </Grid>
</Page>
